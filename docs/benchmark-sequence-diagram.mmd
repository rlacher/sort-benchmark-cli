%%{init: {'theme':'neutral'}}%%
sequenceDiagram
    participant Main
    participant Sorter
    participant ConcreteSortStrategy
    participant ResultAggregator
    participant BenchmarkData

    Note over Main: Data generation<br>and warm-up phase

    loop Repeat for multiple runs
        Main->>BenchmarkData: getDataCopy()
        BenchmarkData-->>Main: int[] array
        Main->>Sorter: sort(int[] array)
        activate Sorter
        Sorter->>ConcreteSortStrategy: sort(int[] array)
        activate ConcreteSortStrategy
        ConcreteSortStrategy-->>Sorter: BenchmarkResult (single run)
        deactivate ConcreteSortStrategy
        Sorter-->>Main: BenchmarkResult (single run)
        deactivate Sorter
    end

    Main->>ResultAggregator: process(listOfBenchmarkResults)
    activate ResultAggregator
    ResultAggregator-->>Main: robustBenchmarkResult
    deactivate ResultAggregator

    Main->>Main: Output robustBenchmarkResult